(()=>{"use strict";var __webpack_modules__={434:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class AkimboDebugPanelTab{constructor(e,t){console.log(e,t);let n=createElement(e,"div",["container-full"]);t.HTMLNodes.debugContainer=n;let a=createElement(n,"h2",["sub-title"]);a.innerText="Debug Input",t.HTMLNodes.debugTitle=a;let i=createElement(n,"div",["debug-input"]);t.HTMLNodes.codeMirrorContainer=i;let o=CodeMirror(i,{lineNumbers:!0,mode:"javascript",theme:"monokai",lineWrapping:!0,autoRefresh:!0});t.HTMLNodes.editor=o,this.createButton(n,"Run JS",["dump-button"],(()=>this.runJS(t))),this.createButton(n,"Clear",["dump-button"],(()=>o.setValue(""))),this.createButton(n,"Copy JS Input",["dump-button"],(()=>this.copyToClipboard(o.getValue()))),t._logToDebugPanel=function(e){let n=t.HTMLNodes.debugOutput.getValue()+e+"\n";t.HTMLNodes.debugOutput.setValue(n),t.HTMLNodes.debugOutput.scrollTo(null,t.HTMLNodes.debugOutput.getScrollInfo().height)},this.createScriptSection(n,t),this.createDebugOutputSection(n,t),t._logToDebugPanel("Debug panel initialized.")}createButton(e,t,n,a){let i=createElement(e,"button",n);return i.innerText=t,i.addEventListener("click",a),i}runJS(that){const code=that.HTMLNodes.editor.getValue().trim();if(code)try{const result=eval(code);this.handleResult(result,that)}catch(e){that._logToDebugPanel(`Error: ${e.message}`)}else that._logToDebugPanel("Please enter JavaScript code to evaluate.")}handleResult(e,t){"object"==typeof e&&null!==e?e instanceof Map?t._logToDebugPanel(`Result: ${JSON.stringify(this.mapToObject(e),null,2)}`):Array.isArray(e)?t._logToDebugPanel(`Result: [\n  ${e.join(",\n  ")}\n]`):t._logToDebugPanel(`Result: ${JSON.stringify(e,null,2)}`):t._logToDebugPanel(`Result: ${e}`)}mapToObject(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}_logToDebugPanel(e){let t=that.HTMLNodes.debugOutput.getValue()+e+"\n";that.HTMLNodes.debugOutput.setValue(t),that.HTMLNodes.debugOutput.scrollTo(null,that.HTMLNodes.debugOutput.getScrollInfo().height)}copyToClipboard(e){if(navigator.clipboard)navigator.clipboard.writeText(e).then((()=>{})).catch((e=>{}));else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(e){}t.classList.add("hide"),document.body.removeChild(t)}}createScriptSection(e,t){let n=createElement(e,"h2",["sub-title"]);n.innerText="Fetch a loaded script",t.HTMLNodes.debugScriptTitle=n;let a=createElement(e,"input",["script-input"]);a.setAttribute("type","text"),a.setAttribute("placeholder","Enter script name or URL"),t.HTMLNodes.scriptInput=a,this.createButton(e,"Dump Script Content",["dump-button"],(()=>{const e=a.value.trim();e?(t._logToDebugPanel(`Fetching content for script: ${e}`),t.adminFunctions.dumpScriptContentByName(a,e,t)):t._logToDebugPanel("Please enter a script name or URL.")}))}createDebugOutputSection(e,t){let n=createElement(e,"h2",["sub-title"]);n.innerText="Debug Output",t.HTMLNodes.debugOuputTitle=n;let a=createElement(e,"div",["debug-input"]);t.HTMLNodes.debugcodeMirrorContainer=a;let i=CodeMirror(a,{lineNumbers:!0,mode:"javascript",theme:"monokai",lineWrapping:!0,autoRefresh:!0});t.HTMLNodes.debugOutput=i,this.createButton(e,"Clear Debug Output",["dump-button"],(()=>i.setValue(""))),this.createButton(e,"Copy Debug Output",["dump-button"],(()=>this.copyToClipboard(i.getValue())))}}const __WEBPACK_DEFAULT_EXPORT__=AkimboDebugPanelTab}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};class AkimboAdminFunctions{applyInjectedCss(e){let t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.head.appendChild(t)}populatePlayerList(e,t){t.logData("Starting to populate selection menu");const n=t.HTMLNodes.playerSelectList;n.innerHTML="",e.length>0?(t.logData("Starting to populate selection menu"),e.forEach((e=>{t.logData(`Adding option for player: ${e.displayName}, ID: ${e.playerId}`);let a=document.createElement("li");a.classList.add("dropdown_item"),a.innerText=e.displayName,a.dataset.playerId=e.playerId,a.addEventListener("click",(()=>{t.HTMLNodes.playerSelectDropdown.innerText=e.displayName,t.HTMLNodes.selectedPlayerTitle.innerText="Interacting with player: "+e.displayName,n.classList.add("hide"),t.selectedPlayer=e.playerId,t.logData(t.selectedPlayer),t.logData(`Selected player: ${e.displayName} (ID: ${e.playerId})`)})),n.appendChild(a)})),n.classList.toggle("hide"),t.logData(t.HTMLNodes.playerSelectList.innerHTML)):t.logData("No players found in the list.")}outputCSSRules(e,t){}dumpScriptContentByName(e,t,n){let a="";n._logToDebugPanel(`Dumping content for script: ${t}\n`);const i=document.querySelectorAll("script");n._logToDebugPanel(`Number of script tags found: ${i.length}\n`);const o=Array.from(i).find((e=>e.src===t));if(o)n._logToDebugPanel(`Target script found: ${o.src}\n`),fetch(o.src).then((e=>(e.ok||n._logToDebugPanel(`Network response was not ok: ${e.statusText}`),e.text()))).then((e=>{a+=`/* ${o.src} */\n\n${e}\n\n`,n._logToDebugPanel("Content fetched successfully.\n"),n._logToDebugPanel(a)})).catch((e=>{n._logToDebugPanel(`Error fetching script content: ${e.message}\n`)}));else{n._logToDebugPanel("Script not found or is an inline script.\n"),n._logToDebugPanel("Searching for inline scripts...\n");const e=Array.from(i).find((e=>e.textContent.includes(t)));e?(n._logToDebugPanel("Inline script found. Displaying content...\n"),a+=`/* Inline script */\n\n${e.textContent}\n\n`,n._logToDebugPanel(a)):n._logToDebugPanel("Inline script not found.\n")}}}class AkimboAdminModInteractions{disownConstruct(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",2004,[],JSON.stringify({id:e}))}takeOverConstruct(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",2008,[],JSON.stringify({id:e}))}repairConstruct(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",2009,[],JSON.stringify({id:e}))}removeDRMproctection(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",2010,[],JSON.stringify({id:e}))}removeEDRMproctection(e,t){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3020,[],JSON.stringify({id:e,constructId:t}))}repairElement(e,t){!1!==e&&(this.logData(e+","+t),CPPMod.sendModAction("AkimboAdmin",2005,[],JSON.stringify({id:e,constructId:t})))}BypassDispenser(e,t){!1!==e&&CPPMod.sendModAction("AkimboAdmin",2006,[],JSON.stringify({id:e,constructId:t}))}ResetDispenser(e,t){!1!==e&&CPPMod.sendModAction("AkimboAdmin",2007,[],JSON.stringify({id:e,constructId:t}))}configureTeleporter(e,t,n,a){this.logData(e+" "+t+" "+n+" "+a),!1!==n&&CPPMod.sendModAction("AkimboAdmin",2012,[],JSON.stringify({id:e,constructId:t,teleportName:n,type:a}))}addTeleportDestination(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3001,[],JSON.stringify({teleportName:e}))}ClaimOwnedTerritory(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3002,[],JSON.stringify({tag:e}))}ClaimUnownedTerritory(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3003,[],JSON.stringify({tag:e}))}searchForPlayer(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3004,[],JSON.stringify({name:e}))}teleportToPlayer(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3005,[],JSON.stringify({id:e}))}teleportPlayerHere(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3006,[],JSON.stringify({id:e}))}teleportToCoordinates(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3007,[],JSON.stringify({pos:e}))}teleportPlayerToCoordinates(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3008,[],JSON.stringify({pos:e}))}sendTeleportLocation(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3009,[],JSON.stringify({tag:e}))}fillInventory(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3010,[],JSON.stringify({id:e}))}fillPlayerInventory(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3011,[],JSON.stringify({id:e}))}clearInventory(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3012,[],JSON.stringify({id:e}))}clearPlayerInventory(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3013,[],JSON.stringify({id:e}))}AddItemToInventory(e,t,n){!1!==e&&!1!==t&&CPPMod.sendModAction("AkimboAdmin",3014,[],JSON.stringify({id:e,itemId:t,quantity:n}))}AddItemToPlayerInventory(e,t,n){!1!==e&&!1!==t&&CPPMod.sendModAction("AkimboAdmin",3015,[],JSON.stringify({id:e,itemId:t,quantity:n}))}ImportBlueprint(e,t,n){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3016,[],JSON.stringify({searchstr:e,magicUse:t,selectedPlayer:n||null}))}toggleMagicBlueprint(e,t){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3017,[],JSON.stringify({id:e,free_deploy:t}))}giveBlueprint(e,t){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3018,[],JSON.stringify({id:e,selectedPlayer:t}))}deleteBlueprint(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",3019,[],JSON.stringify({id:e}))}logData(e){!1!==e&&CPPMod.sendModAction("AkimboAdmin",888,[],JSON.stringify({data:e}))}}var AkimboDebugPanelTab=__webpack_require__(434);class AkimboItemPanelTab{constructor(e,t){this.createTabContent(e,t)}createTabContent(e,t){createElement(e,"h6",["panel_title"]).innerText="Items";const n=createElement(e,"div",["container-center"]),a=createElement(n,"div",["row-flex-center"]),i=createElement(a,"input",["player_search"]);i.type="text",i.placeholder="Search for items...";const o=createElement(a,"button",["dump-button"]);o.innerText="Search Item";const r=createElement(n,"div",["row-flex-center"]),l=createElement(r,"button",["dump-button"]);l.innerText="All Items To nanoPack";const s=createElement(r,"button",["dump-button"]);s.innerText="Give All Items To Player",l.addEventListener("click",(()=>{t.logData(`Adding all items to inventory : ${t.selectedPlayer}`),t.adminModInteraction.fillInventory(t.selectedPlayer)})),s.addEventListener("click",(()=>{t.logData(`Giving all items to Player: ${t.selectedPlayer}`),""!==t.selectedPlayer?t.adminModInteraction.fillPlayerInventory(t.selectedPlayer):t.logData("No player selected.")}));const c=createElement(n,"div",["row-flex-center"]),d=createElement(c,"button",["dump-button"]);d.innerText="Clear nanopack";const u=createElement(c,"button",["dump-button"]);u.innerText="Clear player nanopack",d.addEventListener("click",(()=>{t.logData("Clearing inventory"),t.adminModInteraction.clearInventory(t.selectedPlayer)})),u.addEventListener("click",(()=>{""!==t.selectedPlayer?(t.logData(`Clearing Inventory of player: ${t.selectedPlayer}`),t.adminModInteraction.clearPlayerInventory(t.selectedPlayer)):t.logData("No player selected.")}));const m=createElement(e,"div",["row-flex-center"]);o.addEventListener("click",(async()=>{m.innerHTML="";const e=await itemBank.getTypeIdListByName(i.value);for(const n of e){const e=await itemBank.getItemDefinition(n);if(e.isHidden||!itemBank.isItem(n))continue;const a=createElement(m,"div",["item-container"]);if(createElement(a,"h6",["panel_title"]).innerText=e.fullName,e.scale&&(createElement(a,"p",["panel_title"]).innerText=`Scale: ${e.scale}`),createElement(a,"p",["panel_title"]).innerText=`ParentTypeId: ${e.parentTypeId}`,e.iconFilename){const t=createElement(a,"div",["item-icon"]),n=createElement(t,"img",["icon-image"]);n.src=`/data/${e.iconFilename}`,n.alt=e.name,n.style.maxWidth="100px",n.style.maxHeight="100px"}const i=createElement(a,"div",["row-flex-center"]),o=createElement(i,"input",["player_search"]);o.type="number",o.min="1",o.placeholder="Amount";const r=createElement(a,"div",["row-flex-center"]),l=createElement(r,"button",["dump-button"]);l.innerText="Add to NanoPack",l.addEventListener("click",(async()=>{const n=parseInt(o.value,10);t.logData(`Adding Item To inventory: ${e.name}, ${n}`),t.adminModInteraction.AddItemToInventory(t.selectedPlayer,e.typeId,e.isMaterial?n*(1<<24):n),o.value=""}));const s=createElement(r,"button",["dump-button"]);s.innerText="Give To Player",s.addEventListener("click",(async()=>{const n=parseInt(o.value,10);isNaN(n)||n<=0?alert("Please enter a valid amount."):(""!==t.selectedPlayer?(t.logData(`Giving Item To player: ${t.selectedPlayer}, ${e.name}, ${n}`),t.adminModInteraction.AddItemToPlayerInventory(t.selectedPlayer,e.typeId,e.isMaterial?n*(1<<24):n)):t.logData("No player selected."),o.value="")}))}}))}}const tabs_AkimboItemPanelTab=AkimboItemPanelTab;class PlayerTeleportTab{constructor(e,t){this.createPlayerTeleportPanel(e,t)}createPlayerTeleportPanel(e,t){t.HTMLNodes.player_TP_Title=createElement(e,"h5",["panel_title"]),t.HTMLNodes.player_TP_Title.innerText="Player Teleport panel";let n=createElement(e,"div",["container-center"]),a=createElement(n,"div",["row-flex-center"]);(t.HTMLNodes.player_tp_btn=createElement(a,"button",["dump-button"])).innerText="Teleport To Player",t.HTMLNodes.player_tp_btn.addEventListener("click",(()=>{t.logData(`Selected Player: ${t.selectedPlayer}`),""!==t.selectedPlayer?(t.logData(`Teleporting to player: ${t.selectedPlayer}`),t.adminModInteraction.teleportToPlayer(t.selectedPlayer),setTimeout((()=>{t._close()}),2e3)):t.logData("No player selected.")})),(t.HTMLNodes.player_fp_btn=createElement(a,"button",["dump-button"])).innerText="Teleport Player Here",t.HTMLNodes.player_fp_btn.addEventListener("click",(()=>{t.logData(`Selected Player: ${t.selectedPlayer}`),""!==t.selectedPlayer?(t.logData(`Teleporting player here: ${t.selectedPlayer}`),t.adminModInteraction.teleportPlayerHere(t.selectedPlayer),setTimeout((()=>{t._close()}),2e3)):t.logData("No player selected.")})),t.HTMLNodes.player_TP_Title=createElement(e,"h5",["panel_title"]),t.HTMLNodes.player_TP_Title.innerText="Teleport location panel";let i=createElement(e,"div",["container-center"]);t.HTMLNodes.teleportButtons=createElement(i,"div",["buttons_container"]);const o=JSON.parse(teleportTags);t.selectedButton=null,o.forEach((e=>{let n=createElement(t.HTMLNodes.teleportButtons,"button",["teleport_button"]);n.innerText=e,n.addEventListener("click",(()=>{t.selectedButton&&t.selectedButton.classList.remove("selected"),n.classList.add("selected"),t.selectedButton=n,t.selectedTag=e}))}));let r=createElement(i,"div",["row-flex-center"]);(t.HTMLNodes.confirmButton=createElement(r,"button",["dump-button"])).innerText="Teleport To Location",t.HTMLNodes.confirmButton.addEventListener("click",(()=>{t.selectedTag?(t.adminModInteraction.sendTeleportLocation(t.selectedTag),t.logData(`Teleporting to ${t.selectedTag}`),setTimeout((()=>{t._close()}),5e3)):t.logData("No destination selected.")})),t.HTMLNodes.add_tp_location=createElement(e,"h5",["panel_title"]),t.HTMLNodes.add_tp_location.innerText="Add a teleport location";let l=createElement(e,"div",["container-center"]),s=createElement(l,"div",["row-flex-center"]),c=createElement(s,"input",["player_search"]);c.type="text",c.placeholder="location name",t.HTMLNodes.addTpInput=c;let d=createElement(s,"button",["dump-button"]);d.innerText="add",d.addEventListener("click",(()=>{const e=t.HTMLNodes.addTpInput.value.trim();if(e){t.logData(`Adding location: ${e}`),t.adminModInteraction.addTeleportDestination(e),o.push(e);let n=createElement(t.HTMLNodes.teleportButtons,"button",["teleport_button"]);n.innerText=e,n.addEventListener("click",(()=>{t.selectedButton&&t.selectedButton.classList.remove("selected"),n.classList.add("selected"),t.selectedButton=n,t.selectedTag=e})),t.HTMLNodes.addTpInput.value=""}else t.logData("Please enter a location name.")})),t.HTMLNodes.player_POS_Title=createElement(e,"h5",["panel_title"]),t.HTMLNodes.player_POS_Title.innerText="Teleport To Custom Pos:";let u=createElement(e,"div",["container-center"]),m=createElement(u,"div",["row-flex-center"]),p=createElement(m,"input",["player_search"]);p.type="text",p.placeholder="Enter custom POS:",t.HTMLNodes.customPos=p;let h=createElement(m,"button",["dump-button"]);h.innerText="Teleport to POS",h.addEventListener("click",(()=>{const e=t.HTMLNodes.customPos.value.trim();e?(t.logData(`Searching for pos: ${e}`),t.adminModInteraction.teleportToCoordinates(e)):t.logData("Please enter a POS to teleport.")}));let b=createElement(m,"button",["dump-button"]);b.innerText="Teleport player to POS",b.addEventListener("click",(()=>{const e=t.HTMLNodes.customPos.value.trim();e?(t.logData(`Searching for pos: ${e}`),t.adminModInteraction.teleportPlayerToCoordinates(e)):t.logData("Please enter a player name to search.")})),createElement(e,"div",["row-flex-center"])}}const tabs_PlayerTeleportTab=PlayerTeleportTab;class AkimboGeneralPanelTab{constructor(e,t){this.createAkimboGeneralPanelTab(e,t)}createAkimboGeneralPanelTab(e,t){createElement(e,"h6",["panel_title"]).innerText="General",createElement(e,"p",["panel_title"]).innerText="Interact with player";let n=createElement(e,"div",["container-center"]),a=createElement(n,"div",["row-flex-center"]),i=createElement(a,"input",["player_search"]);i.type="text",i.placeholder="Search Player",t.HTMLNodes.newPlayerInput=i;let o=createElement(a,"button",["dump-button"]);o.innerText="Search...",o.addEventListener("click",(()=>{const e=t.HTMLNodes.newPlayerInput.value.trim();e?(t.logData(`Searching for player: ${e}`),t.logData("dropdownlist"+t.HTMLNodes.playerSelectDropdown),t.adminModInteraction.searchForPlayer(e)):t.logData("Please enter a player name to search.")}));let r=createElement(n,"div",["custom_select_body"]),l=createElement(r,"div",["custom_dropdown"]);t.HTMLNodes.playerSelectDropdown=l,t.HTMLNodes.playerSelectDropdown.innerText="Select a Player";let s=createElement(r,"ul",["akimbo_dropdown_list","hide"]);t.HTMLNodes.playerSelectList=s,l.addEventListener("click",(()=>{s.classList.toggle("hide")}));let c=createElement(n,"div",["row-flex-center"]);(t.HTMLNodes.interact_reset_btn=createElement(c,"button",["dump-button"])).innerText="Reset Interaction",t.HTMLNodes.interact_reset_btn.addEventListener("click",(()=>{t.selectedPlayer="",t.HTMLNodes.selectedPlayerTitle.innerText="Interacting with player: none"}));let d=createElement(e,"div",["container-center"]);t.HTMLNodes.TerritoryManagement_Title=createElement(d,"h5",["panel_title"]),t.HTMLNodes.TerritoryManagement_Title.innerText="Territory Management";let u=createElement(d,"div",["row-flex-center"]),m=createElement(u,"button",["dump-button"]);m.innerText="Take over owned Territory",m.addEventListener("click",(()=>{t.logData("Taking over owned territory"),t.adminModInteraction.ClaimOwnedTerritory()}));let p=createElement(u,"button",["dump-button"]);p.innerText="Take over unowned Territory",p.addEventListener("click",(()=>{t.logData("Taking over owned territory"),t.adminModInteraction.ClaimUnownedTerritory()}))}}const tabs_AkimboGeneralPanelTab=AkimboGeneralPanelTab;class AkimboSettingsPanelTab{constructor(e,t){this.createSettingPanelTab(e,t)}createSettingPanelTab(e,t){let n=createElement(e,"div",["container-full"]);createElement(n,"h2",["sub-title"]).innerText="Settings"}createInputKeyCheckbox(e,t,n,a){let i=createElement(e,"div",["key-toggle-container"]);createElement(i,"label",[]).innerText=n;let o=createElement(i,"input",[]);o.setAttribute("type","checkbox"),o.checked=!1;let r=createElement(i,"kbd");r.setAttribute("data-key",t),r.innerHTML=a,o.addEventListener("change",(function(){o.checked?inputManager.addNodeToNodeInputList(r):inputManager.removeNodeFromInputList(r)}))}}const tabs_AkimboSettingsPanelTab=AkimboSettingsPanelTab;class TableComponent{constructor(e,t=[],n=[],a={}){this.columns=t,this.data=n,this.actionCallbacks=a,this.tableContainer=this.createElement(e,"div",["table_container"]),this.searchInput=this.createElement(this.tableContainer,"input",["player_search"]),this.searchInput.placeholder="Filter...",this.table=this.createElement(this.tableContainer,"table",["custom_table"]),this.tableHead=this.createElement(this.table,"thead"),this.tableBody=this.createElement(this.table,"tbody"),this.renderTableHead(),this.renderTableBody(this.data),this.searchInput.addEventListener("input",(()=>this.handleSearch())),this.rowsPerPage=10,this.currentPage=1,this.totalPages=Math.ceil(this.data.length/this.rowsPerPage),this.paginationContainer=this.createElement(this.tableContainer,"div",["pagination_container"]),this.renderPaginationControls()}updateTableData(e){this.data=e,this.renderTableBody(this.data),this.totalPages=Math.ceil(this.data.length/this.rowsPerPage),this.renderPaginationControls()}renderTableHead(){const e=this.createElement(this.tableHead,"tr");this.columns.forEach(((t,n)=>{const a=this.createElement(e,"th",["sortable"]);a.innerText=t,a.addEventListener("click",(()=>this.sortByColumn(n)))}))}renderTableBody(e){this.tableBody.innerHTML="";const t=(this.currentPage-1)*this.rowsPerPage,n=t+this.rowsPerPage;e.slice(t,n).forEach(((e,t)=>{const n=this.createElement(this.tableBody,"tr");this.columns.forEach((a=>{const i=this.createElement(n,"td");if("Actions"===a){const n=this.createElement(i,"button",["dump-button"]);n.innerText="Toggle Magic",n.addEventListener("click",(()=>this.handleAction("magic",e,t)));const a=this.createElement(i,"button",["dump-button"]);a.innerText="Add to inventory",a.addEventListener("click",(()=>this.handleAction("inventory",e,t)));const o=this.createElement(i,"button",["dump-button"]);o.innerText="Give to Player",o.addEventListener("click",(()=>this.handleAction("player",e,t)));const r=this.createElement(i,"button",["dump-button"]);r.innerText="Delete blueprint",r.addEventListener("click",(()=>this.handleAction("delete",e,t)))}else i.innerText=e[a]||"-"}))}))}handleAction(e,t,n){this.actionCallbacks[e]&&this.actionCallbacks[e](t,n)}sortByColumn(e){const t=this.columns[e],n=[...this.data].sort(((e,n)=>e[t]<n[t]?-1:e[t]>n[t]?1:0));this.renderTableBody(n)}handleSearch(){const e=this.searchInput.value.toLowerCase(),t=this.data.filter((t=>this.columns.some((n=>String(t[n]).toLowerCase().includes(e)))));this.totalPages=Math.ceil(t.length/this.rowsPerPage),this.currentPage=1,this.renderTableBody(t),this.renderPaginationControls()}createElement(e,t,n=[]){const a=document.createElement(t);return n.length&&a.classList.add(...n),e.appendChild(a),a}renderPaginationControls(){this.paginationContainer.innerHTML="";const e=Math.floor(2.5),t=this.createElement(this.paginationContainer,"button",["pagination-btn"]);t.innerText="Previous",t.disabled=1===this.currentPage,t.addEventListener("click",(()=>this.changePage(this.currentPage-1)));let n=Math.max(1,this.currentPage-e),a=Math.min(this.totalPages,this.currentPage+e);this.currentPage<=e?a=Math.min(this.totalPages,5):this.currentPage+e>=this.totalPages&&(n=Math.max(1,this.totalPages-5+1)),n>1&&(this.createPageButton(1),n>2&&this.createEllipsis());for(let e=n;e<=a;e++)this.createPageButton(e);a<this.totalPages&&(a<this.totalPages-1&&this.createEllipsis(),this.createPageButton(this.totalPages));const i=this.createElement(this.paginationContainer,"button",["pagination-btn"]);i.innerText="Next",i.disabled=this.currentPage===this.totalPages,i.addEventListener("click",(()=>this.changePage(this.currentPage+1)))}createPageButton(e){const t=this.createElement(this.paginationContainer,"button",["pagination-btn"]);t.innerText=e,e===this.currentPage&&t.classList.add("active"),t.addEventListener("click",(()=>this.changePage(e)))}createEllipsis(){this.createElement(this.paginationContainer,"span",["pagination-ellipsis"]).innerText="..."}changePage(e){e<1||e>this.totalPages||(this.currentPage=e,this.renderTableBody(this.data),this.renderPaginationControls())}}const elements_TableComponent=TableComponent;class AkimboBlueprintPanelTab{constructor(e,t){this.createBlueprintPanelTab(e,t)}createBlueprintPanelTab(e,t){createElement(e,"h6",["panel_title"]).innerText="Blueprint management";let n=createElement(e,"div",["container-full"]),a=createElement(n,"div",["row-flex-center"]),i=createElement(a,"input",["player_search"]);i.type="text",i.placeholder="Import blueprint";let o=createElement(a,"div",["checkbox-wrapper"]),r=createElement(o,"input",[]);r.type="checkbox",r.id="magicUse";let l=createElement(o,"label",[]);l.innerText="Make Magic",l.htmlFor="magicUse";let s=createElement(a,"button",["dump-button"]);s.innerText="Import blueprint from URL",s.addEventListener("click",(()=>{const e=i.value.trim(),n=r.checked;e?(t.logData(`Adding blueprint: ${e}`),t.adminModInteraction.ImportBlueprint(e,n,t.selectedPlayer)):t.logData("Please enter a URL to upload a blueprint.")})),createElement(n,"div",["row-flex-center"]);const c={magic:(e,n)=>{t.logData(`Edit action for row ${n} , data: ${JSON.stringify(e)}`),t.adminModInteraction.toggleMagicBlueprint(e.Id,!e["free to deploy"])},inventory:(e,n)=>{t.logData(`Edit action for row ${n} , data: ${JSON.stringify(e)}`),t.adminModInteraction.giveBlueprint(e.Id,null)},player:(e,n)=>{t.logData(`Edit action for row ${n} , data: ${JSON.stringify(e)}`),t.adminModInteraction.giveBlueprint(e.Id,t.selectedPlayer)},delete:(e,n)=>{t.logData(`Edit action for row ${n} , data: ${JSON.stringify(e)}`),t.adminModInteraction.deleteBlueprint(e.Id)}};this.table=new elements_TableComponent(n,["Id","Name","Creator Id","Creator Name","free to deploy","Actions"],[{Id:1,name:"Project Alpha","Created at":"2023-09-21","creator Id":2,"creator Name":"aphelia","free to deploy":!0,"max use":5},{Id:2,name:"Project Beta","Created at":"2023-09-18","creator Id":2,"creator Name":"aphelia","free to deploy":!1,"max use":10},{Id:3,name:"Project Gamma","Created at":"2023-09-15","creator Id":2,"creator Name":"aphelia","free to deploy":!0,"max use":3}],c)}}const tabs_AkimboBlueprintPanelTab=AkimboBlueprintPanelTab;class AkimboAdminHud extends MousePage{constructor(){super(),this.adminFunctions=new AkimboAdminFunctions,this.adminModInteraction=new AkimboAdminModInteractions,this._createHTML(),this.logData=this.adminModInteraction.logData,this.wrapperNode.classList.add("hide");var e=this;this.notificationIcon=new NotificationIconComponent("icon_repair_unit","akimboAdmin"),this.notificationIcon.onClickEvent.subscribe((()=>e.show(!0))),hudManager.addNotificationIcon(this.notificationIcon),this.notificationIcon.HTMLNodes.icon.innerText="A",engine.on("AkimboAdminHud.show",this.showIt,this),engine.on("AkimboAdminHud.setPlayers",this.setPlayers,this),engine.on("AkimboAdminHud.setBlueprints",this.setBlueprints,this),"undefined"!=typeof injectedCss&&this.adminFunctions.applyInjectedCss(injectedCss)}setPlayers(e){this.logData("received: "+e);const t=JSON.parse(e);this.adminFunctions.populatePlayerList(t.players,this)}setBlueprints(e){const t=JSON.parse(e);this.BlueprintPanel.table.updateTableData(t)}showIt(e){e?(hudManager.toggleEnhancedMouse(),this.show(!0)):this.show(!1)}show(e){super.show(e)}_onVisibilityChange(){super._onVisibilityChange(),this.wrapperNode.classList.toggle("hide",!this.isVisible),this.isVisible&&inputCaptureManager.captureText(!0,(()=>this._close())),this.isVisible||inputCaptureManager.captureText(!1)}_close(){this.show(!1),hudManager.toggleEnhancedMouse()}_createHTML(){this.HTMLNodes={},this.wrapperNode=createElement(document.body,"div",["AkimboAdminHud_panel"]);let e=createElement(this.wrapperNode,"div",["AkimboAdminHud_header"]);this.HTMLNodes.panelTitle=createElement(e,"h5",["panel_title"]),this.HTMLNodes.panelTitle.innerText="Akimbo Admin HUD",this.HTMLNodes.selectedPlayerTitle=createElement(e,"h5",["panel_title"]),this.HTMLNodes.selectedPlayerTitle.innerText="Interacting with player: none",this.HTMLNodes.closeIconButton=createElement(e,"button",["close_button"]),this.HTMLNodes.closeIconButton.innerText="Close",this.HTMLNodes.closeIconButton.addEventListener("click",(()=>this._close()));let t=createElement(this.wrapperNode,"div",["tab-nav"]);this.HTMLNodes.tab1=createElement(t,"a",["tab-link","active"]),this.HTMLNodes.tab1.innerText="General",this.HTMLNodes.tab1.href="#tab1",this.HTMLNodes.tab2=createElement(t,"a",["tab-link"]),this.HTMLNodes.tab2.innerText="Teleportation",this.HTMLNodes.tab2.href="#tab2",this.HTMLNodes.tab3=createElement(t,"a",["tab-link"]),this.HTMLNodes.tab3.innerText="Items",this.HTMLNodes.tab3.href="#tab3",this.HTMLNodes.tab6=createElement(t,"a",["tab-link"]),this.HTMLNodes.tab6.innerText="Blueprints",this.HTMLNodes.tab6.href="#tab6",this.HTMLNodes.tab4=createElement(t,"a",["tab-link"]),this.HTMLNodes.tab4.innerText="Debug",this.HTMLNodes.tab4.href="#tab4",this.HTMLNodes.tab5=createElement(t,"a",["tab-link"]),this.HTMLNodes.tab5.innerText="Settings",this.HTMLNodes.tab5.href="#tab5";let n=createElement(this.wrapperNode,"div",["tab-content"]),a=createElement(n,"div",["tab-pane","active"]);a.id="tab1";let i=createElement(n,"div",["tab-pane"]);i.id="tab2";let o=createElement(n,"div",["tab-pane"]);o.id="tab3";let r=createElement(n,"div",["tab-pane"]);r.id="tab6";let l=createElement(n,"div",["tab-pane"]);l.id="tab4";let s=createElement(n,"div",["tab-pane"]);s.id="tab5",this.DebugPanel=new AkimboDebugPanelTab.A(l,this),this.GeneralPanel=new tabs_AkimboGeneralPanelTab(a,this),this.TeleportPanel=new tabs_PlayerTeleportTab(i,this),this.ItemPanel=new tabs_AkimboItemPanelTab(o,this),this.SettingPanel=new tabs_AkimboSettingsPanelTab(s,this),this.BlueprintPanel=new tabs_AkimboBlueprintPanelTab(r,this),this._addTabFunctionality()}_addTabFunctionality(){const e=document.querySelectorAll(".tab-link"),t=document.querySelectorAll(".tab-pane");e.forEach((n=>{n.addEventListener("click",(a=>{a.preventDefault();const i=n.getAttribute("href").substring(1);e.forEach((e=>e.classList.remove("active"))),t.forEach((e=>e.classList.remove("active"))),n.classList.add("active"),document.getElementById(i).classList.add("active")}))}))}dumpData(){this.adminFunctions.outputCSSRules(tabPane,that),outputDiv&&outputDiv.textContent.trim()?this.dumpData(outputDiv.textContent):console.log("No CSS data found.")}}let akimboAdminHud=new AkimboAdminHud})();